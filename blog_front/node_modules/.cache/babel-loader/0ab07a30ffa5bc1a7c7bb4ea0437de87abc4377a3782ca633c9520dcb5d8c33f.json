{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shind\\\\OneDrive\\\\Desktop\\\\coding project\\\\blog post\\\\blog_front\\\\src\\\\Pages\\\\OpenBlog.js\",\n  _s = $RefreshSig$();\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction OpenBlog(props) {\n  _s();\n  const Data = useLocation().state; //get data about Post from App.js\n  console.log(Data.CurrUser);\n  const isViewerAuthor = Data.CurrUser == Data.Username;\n\n  //function called to delete the post\n  async function DeletePost() {\n    //append PostID into FormData object FD\n    const FD = new FormData();\n    FD.append('PostID', Data.PostID);\n\n    //send a POST request to /deleteblog with FD in its body\n    await fetch('http://localhost:3001/deleteblog', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        PostID: Data.PostID\n      })\n    });\n    props.Login(Data.Username, Data.DisplayName); //go back to the HomePage still logged in as the user\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Title: \", Data.Title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 42\n    }, this), \"Author: \", Data.DisplayName, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 40\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 46\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: `data:image/jpeg;base64,${Data.Image}`,\n      alt: Data.ImageName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 87\n    }, this), \" \", Data.PostText, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 29\n    }, this), isViewerAuthor ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: DeletePost,\n      children: \"Delete Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 31\n    }, this) : null, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n}\n_s(OpenBlog, \"EuD9q2dZ34PfN/QO2OBhBzeMxmY=\", false, function () {\n  return [useLocation];\n});\n_c = OpenBlog;\nexport default OpenBlog;\nvar _c;\n$RefreshReg$(_c, \"OpenBlog\");","map":{"version":3,"names":["useLocation","OpenBlog","props","Data","state","console","log","CurrUser","isViewerAuthor","Username","DeletePost","FD","FormData","append","PostID","fetch","method","headers","body","JSON","stringify","Login","DisplayName","Title","Image","ImageName","PostText"],"sources":["C:/Users/shind/OneDrive/Desktop/coding project/blog post/blog_front/src/Pages/OpenBlog.js"],"sourcesContent":["import {useLocation} from 'react-router-dom';\r\n\r\nfunction OpenBlog(props) {\r\n    const Data = useLocation().state; //get data about Post from App.js\r\n    console.log(Data.CurrUser)\r\n    const isViewerAuthor = (Data.CurrUser == Data.Username);\r\n\r\n    //function called to delete the post\r\n    async function DeletePost() {\r\n\r\n        //append PostID into FormData object FD\r\n        const FD = new FormData();\r\n        FD.append('PostID', Data.PostID)\r\n\r\n        //send a POST request to /deleteblog with FD in its body\r\n        await fetch('http://localhost:3001/deleteblog',{\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({PostID: Data.PostID})\r\n        })\r\n        \r\n        props.Login(Data.Username, Data.DisplayName); //go back to the HomePage still logged in as the user\r\n    }\r\n\r\n    return (\r\n        <div> {/* diplaying the blog post itself first */}\r\n            <h1>Title: {Data.Title}</h1> <br />\r\n            Author: {Data.DisplayName} <br /><br />\r\n            <img src={`data:image/jpeg;base64,${Data.Image}`} alt={Data.ImageName} /> <br /> {/* Display the image base64 image data as an image */}\r\n            {Data.PostText} <br />\r\n\r\n            {isViewerAuthor ? <button onClick={DeletePost}>Delete Post</button> : null} {/* Only Displays if isViewerAuthor is true-if the viewer of the post is the author themselves, otherwise displays null. This button deletes the post */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OpenBlog;"],"mappings":";;AAAA,SAAQA,WAAW,QAAO,kBAAkB;AAAC;AAE7C,SAASC,QAAQ,CAACC,KAAK,EAAE;EAAA;EACrB,MAAMC,IAAI,GAAGH,WAAW,EAAE,CAACI,KAAK,CAAC,CAAC;EAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAACI,QAAQ,CAAC;EAC1B,MAAMC,cAAc,GAAIL,IAAI,CAACI,QAAQ,IAAIJ,IAAI,CAACM,QAAS;;EAEvD;EACA,eAAeC,UAAU,GAAG;IAExB;IACA,MAAMC,EAAE,GAAG,IAAIC,QAAQ,EAAE;IACzBD,EAAE,CAACE,MAAM,CAAC,QAAQ,EAAEV,IAAI,CAACW,MAAM,CAAC;;IAEhC;IACA,MAAMC,KAAK,CAAC,kCAAkC,EAAC;MAC3CC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAC,cAAc,EAAE;MAAkB,CAAC;MAC7CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAACN,MAAM,EAAEX,IAAI,CAACW;MAAM,CAAC;IAC9C,CAAC,CAAC;IAEFZ,KAAK,CAACmB,KAAK,CAAClB,IAAI,CAACM,QAAQ,EAAEN,IAAI,CAACmB,WAAW,CAAC,CAAC,CAAC;EAClD;;EAEA,oBACI;IAAA,6BACI;MAAA,sBAAYnB,IAAI,CAACoB,KAAK;IAAA;MAAA;MAAA;MAAA;IAAA,QAAM,oBAAC;MAAA;MAAA;MAAA;IAAA,QAAM,cAC1BpB,IAAI,CAACmB,WAAW,oBAAE;MAAA;MAAA;MAAA;IAAA,QAAM;MAAA;MAAA;MAAA;IAAA,QAAM,eACvC;MAAK,GAAG,EAAG,0BAAyBnB,IAAI,CAACqB,KAAM,EAAE;MAAC,GAAG,EAAErB,IAAI,CAACsB;IAAU;MAAA;MAAA;MAAA;IAAA,QAAG,oBAAC;MAAA;MAAA;MAAA;IAAA,QAAM,OAC/EtB,IAAI,CAACuB,QAAQ,oBAAE;MAAA;MAAA;MAAA;IAAA,QAAM,EAErBlB,cAAc,gBAAG;MAAQ,OAAO,EAAEE,UAAW;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAqB,GAAG,IAAI;EAAA;IAAA;IAAA;IAAA;EAAA,QACxE;AAEd;AAAC,GAhCQT,QAAQ;EAAA,QACAD,WAAW;AAAA;AAAA,KADnBC,QAAQ;AAkCjB,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}