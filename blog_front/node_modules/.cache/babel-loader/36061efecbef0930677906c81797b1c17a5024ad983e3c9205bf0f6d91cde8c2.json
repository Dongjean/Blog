{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shind\\\\OneDrive\\\\Desktop\\\\coding project\\\\blog post\\\\blog_front\\\\src\\\\Components\\\\LikesSection.js\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LikesSection(props) {\n  _s();\n  const CurrUser = props.CurrUser;\n  const PostID = props.PostID;\n  const [LikesCount, setLikesCount] = useState(0);\n  const [isLiked, setLikedState] = useState(false);\n  useEffect(() => {\n    GetLikesCount();\n    GetLikeState();\n  }, []);\n\n  //method to get the number of likes for the post\n  function GetLikesCount() {\n    //send a GET request to /getlikes with PostID as a parameter\n    fetch('http://localhost:3001/getlikescount/' + PostID).then(res => res.json()).then(response => {\n      const LikesCount = response.res;\n      setLikesCount(LikesCount); //update the information stored in the LikesCount State\n    });\n  }\n\n  function Like(event) {\n    event.stopPropagation();\n    fetch('http://localhost:3001/addlike', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        PostID: PostID,\n        CurrUser: CurrUser\n      })\n    }).then(res => res.json()).then(response => {\n      console.log(response); //continue from here lol\n      setLikedState(response.res);\n    });\n  }\n  function Unlike(event) {\n    event.stopPropagation();\n    fetch('http://localhost:3001/removelike', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        PostID: PostID,\n        CurrUser: CurrUser\n      })\n    }).then(res => res.json()).then(response => {\n      console.log(response);\n      setLikedState(response.res);\n    });\n  }\n  function GetLikeState() {\n    fetch('http://localhost:3001/getlikestate', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        PostID: PostID,\n        CurrUser: CurrUser\n      })\n    }).then(res => res.json()).then(response => {\n      console.log(response);\n      setLikedState(response.res);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Likes: \", LikesCount, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 33\n    }, this), isLiked ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: Unlike,\n        children: \"Unlike!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 53\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: Like,\n        children: \"Like!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 49\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n_s(LikesSection, \"zTX+UY/LrD688scMxFIt9DZo0rU=\");\n_c = LikesSection;\nexport default LikesSection;\nvar _c;\n$RefreshReg$(_c, \"LikesSection\");","map":{"version":3,"names":["LikesSection","props","CurrUser","PostID","LikesCount","setLikesCount","useState","isLiked","setLikedState","useEffect","GetLikesCount","GetLikeState","fetch","then","res","json","response","Like","event","stopPropagation","method","headers","body","JSON","stringify","console","log","Unlike"],"sources":["C:/Users/shind/OneDrive/Desktop/coding project/blog post/blog_front/src/Components/LikesSection.js"],"sourcesContent":["function LikesSection(props) {\r\n    const CurrUser = props.CurrUser;\r\n    const PostID = props.PostID;\r\n    const [LikesCount, setLikesCount] = useState(0);\r\n    const [isLiked, setLikedState] = useState(false);\r\n\r\n    useEffect(() => {\r\n        GetLikesCount();\r\n        GetLikeState();\r\n    }, [])\r\n\r\n    //method to get the number of likes for the post\r\n    function GetLikesCount() {\r\n        //send a GET request to /getlikes with PostID as a parameter\r\n        fetch('http://localhost:3001/getlikescount/' + PostID).then(\r\n            res => res.json()\r\n        ).then(\r\n            response => {\r\n                const LikesCount = response.res\r\n                setLikesCount(LikesCount) //update the information stored in the LikesCount State\r\n            }\r\n        )\r\n    }\r\n\r\n    function Like(event) {\r\n        event.stopPropagation()\r\n        fetch('http://localhost:3001/addlike', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({PostID: PostID, CurrUser: CurrUser})\r\n        }).then(\r\n            res => res.json()\r\n        ).then(\r\n            response => {\r\n                console.log(response)//continue from here lol\r\n                setLikedState(response.res)\r\n            }\r\n        )\r\n    }\r\n\r\n    function Unlike(event) {\r\n        event.stopPropagation()\r\n        fetch('http://localhost:3001/removelike', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({PostID: PostID, CurrUser: CurrUser})\r\n        }).then(\r\n            res => res.json()\r\n        ).then(\r\n            response => {\r\n                console.log(response)\r\n                setLikedState(response.res)\r\n            }\r\n        )\r\n    }\r\n    function GetLikeState() {\r\n        fetch('http://localhost:3001/getlikestate', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({PostID: PostID, CurrUser: CurrUser})\r\n        }).then(\r\n            res => res.json()\r\n        ).then(\r\n            response => {\r\n                console.log(response)\r\n                setLikedState(response.res)\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            Likes: {LikesCount} <br />\r\n            {isLiked ? \r\n            <div>\r\n                <div onClick={Unlike}>Unlike!</div> <br />\r\n            </div>: \r\n            <div>\r\n                <div onClick={Like}>Like!</div> <br />\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LikesSection;"],"mappings":";;;AAAA,SAASA,YAAY,CAACC,KAAK,EAAE;EAAA;EACzB,MAAMC,QAAQ,GAAGD,KAAK,CAACC,QAAQ;EAC/B,MAAMC,MAAM,GAAGF,KAAK,CAACE,MAAM;EAC3B,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGC,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACC,OAAO,EAAEC,aAAa,CAAC,GAAGF,QAAQ,CAAC,KAAK,CAAC;EAEhDG,SAAS,CAAC,MAAM;IACZC,aAAa,EAAE;IACfC,YAAY,EAAE;EAClB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,SAASD,aAAa,GAAG;IACrB;IACAE,KAAK,CAAC,sCAAsC,GAAGT,MAAM,CAAC,CAACU,IAAI,CACvDC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CACpB,CAACF,IAAI,CACFG,QAAQ,IAAI;MACR,MAAMZ,UAAU,GAAGY,QAAQ,CAACF,GAAG;MAC/BT,aAAa,CAACD,UAAU,CAAC,EAAC;IAC9B,CAAC,CACJ;EACL;;EAEA,SAASa,IAAI,CAACC,KAAK,EAAE;IACjBA,KAAK,CAACC,eAAe,EAAE;IACvBP,KAAK,CAAC,+BAA+B,EAAE;MACnCQ,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAC,cAAc,EAAE;MAAkB,CAAC;MAC7CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAACrB,MAAM,EAAEA,MAAM;QAAED,QAAQ,EAAEA;MAAQ,CAAC;IAC7D,CAAC,CAAC,CAACW,IAAI,CACHC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CACpB,CAACF,IAAI,CACFG,QAAQ,IAAI;MACRS,OAAO,CAACC,GAAG,CAACV,QAAQ,CAAC;MACrBR,aAAa,CAACQ,QAAQ,CAACF,GAAG,CAAC;IAC/B,CAAC,CACJ;EACL;EAEA,SAASa,MAAM,CAACT,KAAK,EAAE;IACnBA,KAAK,CAACC,eAAe,EAAE;IACvBP,KAAK,CAAC,kCAAkC,EAAE;MACtCQ,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAC,cAAc,EAAE;MAAkB,CAAC;MAC7CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAACrB,MAAM,EAAEA,MAAM;QAAED,QAAQ,EAAEA;MAAQ,CAAC;IAC7D,CAAC,CAAC,CAACW,IAAI,CACHC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CACpB,CAACF,IAAI,CACFG,QAAQ,IAAI;MACRS,OAAO,CAACC,GAAG,CAACV,QAAQ,CAAC;MACrBR,aAAa,CAACQ,QAAQ,CAACF,GAAG,CAAC;IAC/B,CAAC,CACJ;EACL;EACA,SAASH,YAAY,GAAG;IACpBC,KAAK,CAAC,oCAAoC,EAAE;MACxCQ,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAC,cAAc,EAAE;MAAkB,CAAC;MAC7CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAACrB,MAAM,EAAEA,MAAM;QAAED,QAAQ,EAAEA;MAAQ,CAAC;IAC7D,CAAC,CAAC,CAACW,IAAI,CACHC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CACpB,CAACF,IAAI,CACFG,QAAQ,IAAI;MACRS,OAAO,CAACC,GAAG,CAACV,QAAQ,CAAC;MACrBR,aAAa,CAACQ,QAAQ,CAACF,GAAG,CAAC;IAC/B,CAAC,CACJ;EACL;EAGA,oBACI;IAAA,sBACYV,UAAU,oBAAE;MAAA;MAAA;MAAA;IAAA,QAAM,EACzBG,OAAO,gBACR;MAAA,wBACI;QAAK,OAAO,EAAEoB,MAAO;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAc,oBAAC;QAAA;QAAA;QAAA;MAAA,QAAM;IAAA;MAAA;MAAA;MAAA;IAAA,QACxC,gBACN;MAAA,wBACI;QAAK,OAAO,EAAEV,IAAK;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAY,oBAAC;QAAA;QAAA;QAAA;MAAA,QAAM;IAAA;MAAA;MAAA;MAAA;IAAA,QACpC;EAAA;IAAA;IAAA;IAAA;EAAA,QAEJ;AAEd;AAAC,GApFQjB,YAAY;AAAA,KAAZA,YAAY;AAsFrB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}